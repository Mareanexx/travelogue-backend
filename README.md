# Travelogue Backend

Серверная часть приложения **Travelogue** — это REST API для мобильного приложения, предназначенного для ведения личного журнала путешествий, обмена поездками и взаимодействия пользователей.

## Содержание

- [Назначение](#назначение)
- [Основной функционал](#основной-функционал)
- [Роли пользователей](#роли-пользователей)
- [Архитектура проекта](#архитектура-проекта)
- [Стек технологий](#стек-технологий)
- [Требования](#требования)
- [Установка и сборка](#установка-и-сборка)
- [Запуск приложения](#запуск-приложения)
- [Коллекция запросов](#коллекция-запросов)

## Назначение

Бекенд обеспечивает REST API для взаимодействия мобильного приложения Travelogue с сервером:

- Авторизация и аутентификация пользователей.
- Управление профилем пользователя.
- CRUD-операции для путешествий, точек на карте и медиа.
- Социальные взаимодействия: подписки, лайки, комментарии.
- Администрирование контента.
- Модерация контента.

## Основной функционал

- Регистрация и вход пользователей по JWT.
- Роли пользователей с разграничением доступа.
- Публикация и редактирование путешествий.
- Добавление точек на карту с координатами и фото.
- Комментирование и лайк контента.
- Подписка на других пользователей.
- Управление профилем пользователя.
- Администрирование пользователей и контента.

## Роли пользователей

| Роль      | Описание и права |
|-----------|------------------|
| **Гость** | Может зарегистрироваться или войти в аккаунт. Не может создавать контент. |
| **Пользователь** | Может создавать и редактировать свои путешествия, добавлять точки, комментировать, лайкать, подписываться на других пользователей. |
| **Модератор** | Имеет все права пользователя + может скрывать/удалять чужие поездки и комментарии, модерировать контент. |
| **Администратор** | Полный доступ к системе. Управление пользователями, модераторами и всем контентом. Возможность назначать роли другим пользователям. |

## Архитектура проекта

- **Архитектурный стиль**: MVC (Model-View-Controller).
- **Слои**:
  - **Controller Layer** — REST-контроллеры, обработка HTTP-запросов.
  - **Service Layer** — бизнес-логика приложения.
  - **Repository Layer** — доступ к данным (PostgreSQL через JDBC).
  - **Entity Layer** — доменные сущности (JPA Entity).
- **Авторизация**: JWT (JSON Web Token).
- **Валидация**: Spring Validation.

## Стек технологий

- **Язык**: Kotlin
- **Фреймворк**: Spring Boot
- **Безопасность**: Spring Security + JWT
- **База данных**: PostgreSQL
- **Контейнеризация**: Docker Compose
- **Тестирование**: JUnit 5 + MockK

## Требования

- JDK 17+
- Gradle 8.x
- PostgreSQL 14+
- Docker (опционально для сборки контейнера)

## Установка и сборка

1. Клонируйте репозиторий:

```bash
git clone https://github.com/your-username/TravelogueBackend.git
cd TravelogueBackend
```

2. Соберите проект:
```bash
./gradlew build
```

## Запуск приложения

### Локальный запуск:
```bash
./gradlew bootRun
```
Приложение будет доступно по адресу: http://localhost:8080

### С помощью Docker (опционально):
```bash
docker-compose up --build -d
```

## Коллекция запросов
Протестировать серверную часть приложения можно используя коллекцию [Postman Collection](https://clck.ru/3M59Wg).
